<%= form_for student || User.new, url: admin_students_path, html: { class: "validate", id: "user-admin-form" }, format: :turbo_stream, method: :post do |f| %>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="name" class=" block mb-2 text-lg font-medium text-[#000]">Name<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :name, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
        <div class="text-red-600 text-sm mt-1" id="name-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:name].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:name).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="email" class=" block mb-2 text-lg font-medium text-[#000]">Email<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.email_field :email, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
        <div class="text-red-600 text-sm mt-1" id="email-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:email].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:email).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="password" class="block mb-2 text-lg font-medium text-[#000]">Password<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
      <div class="w-full sm:w-[55%] flex flex-col relative">
        <%= f.password_field :password, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "new-password" %>
        <div class="absolute top-0 bottom-4 right-0 flex items-center pr-3">
          <img id="toggle-password-visibility" src="<%= asset_path("eye.png") %>" alt="Show Password" class="cursor-pointer" onclick="togglePasswordVisibility()">
        </div>
        <div class="text-red-600 text-sm mt-1" id="password-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:password].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:password).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="passwod_confirmation" class="w-full sm:w-[40%] lg:w-[46%]  block mb-2 text-lg font-medium text-[#000]">Password Confirmation<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
      <div class="w-full sm:w-[55%] flex flex-col relative">
        <%= f.password_field :password_confirmation, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "new-password" %>
        <div class="absolute top-0 bottom-4 right-0 flex items-center pr-3">
          <img id="toggle-password-confirmation-visibility" src="<%= asset_path("eye.png") %>" alt="Show Password" class="cursor-pointer" onclick="togglePasswordConfirmationVisibility()">
        </div>
        <div class="text-red-600 text-sm mt-1" id="password-confirmation-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:password_confirmation].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:password_confirmation).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="gender" class="block mb-2 text-lg font-medium text-[#000]">Gender</label>
      <div class="flex w-[57%] lg:w-[55%]">
        <div class="flex w-[70%] justify-between pt-2">
          <label class="flex items-start">
            <%= f.radio_button :gender, "Male", checked: true %>
            <span class="text-base font-medium ml-4 mt-[-4px]">Male</span>
          </label>
          <label class="flex items-start ml-2">
            <%= f.radio_button :gender, "Female" %>
            <span class="text-base font-medium ml-4 mt-[-4px]">Female</span>
          </label>
        </div>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="dataofbirth" class="block mb-2 text-lg font-medium text-[#000]">Date of Birth</label>
      <div class="input-wrapper flex flex-col w-full sm:w-[57%] lg:w-[55%] relative">
        <%= f.text_field :dataofbirth, class: 'datepicker-input border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg pl-10 pr-4', id: 'datepicker', autocomplete: 'off' %>
        <svg id="datepicker-icon" class="absolute top-4 left-[19.25rem] w-6 h-6 cursor-pointer" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6.2403 0C6.44452 0 6.64037 0.0811248 6.78477 0.225528C6.92918 0.369931 7.0103 0.565783 7.0103 0.77V2.2099H15.279V0.7799C15.279 0.575683 15.3601 0.379831 15.5045 0.235428C15.6489 0.0910248 15.8448 0.0099 16.049 0.0099C16.2532 0.0099 16.4491 0.0910248 16.5935 0.235428C16.7379 0.379831 16.819 0.575683 16.819 0.7799V2.2099H19.8C20.3833 2.2099 20.9427 2.44153 21.3552 2.85388C21.7678 3.26622 21.9997 3.82551 22 4.4088V19.8011C21.9997 20.3844 21.7678 20.9437 21.3552 21.356C20.9427 21.7684 20.3833 22 19.8 22H2.2C1.61671 22 1.0573 21.7684 0.644754 21.356C0.232205 20.9437 0.000291643 20.3844 0 19.8011L0 4.4088C0.000291643 3.82551 0.232205 3.26622 0.644754 2.85388C1.0573 2.44153 1.61671 2.2099 2.2 2.2099H5.4703V0.7689C5.47059 0.564874 5.55185 0.369304 5.69622 0.225139C5.84059 0.0809736 6.03627 -2.0819e-07 6.2403 0ZM1.54 8.5162V19.8011C1.54 19.8878 1.55707 19.9736 1.59024 20.0537C1.62341 20.1337 1.67202 20.2065 1.73331 20.2678C1.7946 20.3291 1.86735 20.3777 1.94743 20.4109C2.0275 20.444 2.11333 20.4611 2.2 20.4611H19.8C19.8867 20.4611 19.9725 20.444 20.0526 20.4109C20.1326 20.3777 20.2054 20.3291 20.2667 20.2678C20.328 20.2065 20.3766 20.1337 20.4098 20.0537C20.4429 19.9736 20.46 19.8878 20.46 19.8011V8.5316L1.54 8.5162ZM7.3337 16.0809V17.9135H5.5V16.0809H7.3337ZM11.9163 16.0809V17.9135H10.0837V16.0809H11.9163ZM16.5 16.0809V17.9135H14.6663V16.0809H16.5ZM7.3337 11.7062V13.5388H5.5V11.7062H7.3337ZM11.9163 11.7062V13.5388H10.0837V11.7062H11.9163ZM16.5 11.7062V13.5388H14.6663V11.7062H16.5ZM5.4703 3.7488H2.2C2.11333 3.7488 2.0275 3.76587 1.94743 3.79904C1.86735 3.83221 1.7946 3.88082 1.73331 3.94211C1.67202 4.0034 1.62341 4.07615 1.59024 4.15623C1.55707 4.2363 1.54 4.32213 1.54 4.4088V6.9773L20.46 6.9927V4.4088C20.46 4.32213 20.4429 4.2363 20.4098 4.15623C20.3766 4.07615 20.328 4.0034 20.2667 3.94211C20.2054 3.88082 20.1326 3.83221 20.0526 3.79904C19.9725 3.76587 19.8867 3.7488 19.8 3.7488H16.819V4.7707C16.819 4.97492 16.7379 5.17077 16.5935 5.31517C16.4491 5.45958 16.2532 5.5407 16.049 5.5407C15.8448 5.5407 15.6489 5.45958 15.5045 5.31517C15.3601 5.17077 15.279 4.97492 15.279 4.7707V3.7488H7.0103V4.7608C7.0103 4.96502 6.92918 5.16087 6.78477 5.30527C6.64037 5.44968 6.44452 5.5308 6.2403 5.5308C6.03608 5.5308 5.84023 5.44968 5.69583 5.30527C5.55142 5.16087 5.4703 4.96502 5.4703 4.7608V3.7488Z" fill="#0BC08B"/>
        </svg>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="contact number" class=" block mb-2 text-lg font-medium text-[#000]">Phone No</label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :contact_number, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
        <div class="text-red-600 text-sm mt-1" id="contact-number-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:contact_number].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:emergency_contact_number).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="occupation" class=" block mb-2 text-lg font-medium text-[#000]">Occupation<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :occupation, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
        <div class="text-red-600 text-sm mt-1" id="occupation-error"></div>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="education" class=" block mb-2 text-lg font-medium text-[#000]">Education</label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :education, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="address" class=" block mb-2 text-lg font-medium text-[#000]">Address</label>
      <div class="w-full sm:w-[55%] flex flex-coll">
        <%= f.text_area :addresses, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="emergency contact name" class=" block mb-2 text-lg font-medium text-[#000]">Emergency Contact Name</label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :emergency_contact_name, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
      </div>
    </div>
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <label for="emergency contact number" class=" block mb-2 text-lg font-medium text-[#000]">Emergency Contact Number</label>
      <div class="w-full sm:w-[55%] flex flex-col">
        <%= f.text_field :emergency_contact_number, class: "validate w-full bg-[#ffffff] border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg block p-2.5 focus:ring-0 focus:ring-offset-0 focus:border-gray-200", autocomplete: "off" %>
        <div class="text-red-600 text-sm mt-1" id="emergency-contact-number-error"></div>
        <% if student&.errors&.any? %>
          <% if student.errors[:emergency_contact_number].any? %>
            <div class="text-red-600 text-sm mt-1">
              <%= student.errors.full_messages_for(:emergency_contact_number).join(', ') %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
  <div class= "flex w-[100%] gap-[50px] flex-col lg:flex-row">
    <div class="mb-4 flex flex-col sm:flex-row w-full lg:w-[50%] justify-between">
      <%= f.hidden_field :role, value: 'student' %>
    </div>
  </div>
  <%= hidden_field_tag :page, params[:page]%>
  <%= hidden_field_tag :per_page, params[:per_page]%>
  <%= hidden_field_tag :search, params[:search]%>
  <div class="w-[150px] mx-auto mt-4 sm:mt-6">
    <%= f.submit "CREATE", class: 'button-gradiant-hover w-[150px] h-[42px] text-white bg-gradient-to-r from-[#1AB69D] to-[#31B978] font-semibold rounded-lg text-[16px] px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800' %>
  </div>
<% end %>
<script>
  function togglePasswordVisibility() {
        var passwordField = document.getElementById('user_password');
        var toggleIcon = document.getElementById('toggle-password-visibility');

        if (passwordField.type === "password") {
            passwordField.type = "text";
            toggleIcon.src = "<%= asset_path("eyeclosed.png") %>";
        } else {
            passwordField.type = "password";
            toggleIcon.src = "<%= asset_path("eye.png") %>";
        }
    }

    function togglePasswordConfirmationVisibility() {
        var passwordField = document.getElementById('user_password_confirmation');
        var toggleIcon = document.getElementById('toggle-password-confirmation-visibility');

        if (passwordField.type === "password") {
            passwordField.type = "text";
            toggleIcon.src = "<%= asset_path("eyeclosed.png") %>";
        } else {
            passwordField.type = "password";
            toggleIcon.src = "<%= asset_path("eye.png") %>";
        }
    }
</script>

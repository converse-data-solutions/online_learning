<%= form_for trainer_attendance || TrainerAttendance.new, url: admin_trainer_attendances_path, html: { class: "validate", id: "trainer-attendance-form" }, validate: true, method: :post do |f| %>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="user_id" class="w-full sm:w-[45%] block mb-2 text-lg font-medium text-[#000]">Name<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
    <div class="w-full sm:w-[55%] flex flex-col">
      <%= collection_select(:trainer_course, :user_id, User.joins(:roles).where(roles: { name: 'student' }), :id, :name, { prompt: "Select User", selected: '' }, { class: "bg-[#FFFFFF] foucus:ring-0 text-[#818181] text-[16px] font-medium rounded-lg outline-none block w-full p-2.5 rounded-[7px] bg-[#fff] text-[#818181] filter-handle custom-select new-select-border sources", id: "user_id" })  %>
      <div class="text-red-600 text-sm mt-1" id="name-error"></div>
      <% if trainer_attendance&.errors&.any? %>
        <% if trainer_attendance&.errors[:user_id].any? %>
          <div class="text-red-600 text-sm mt-1">
            <%= trainer_attendance&.errors.full_messages_for(:user_id).join(', ') %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="course" class="w-full sm:w-[45%] block mb-2 text-lg font-medium text-[#000]">Course<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
    <div class="w-full sm:w-[55%] flex flex-col" id="filtered_course">
      <%= collection_select(:trainer_course, :id, [], :id, :course_name_from_course_model, { prompt: "Select Section", selected: '' }, { class: "bg-[#FFFFFF] border-0 focus:ring-0 text-[#818181] text-[16px] font-medium rounded-lg outline-none block w-full p-2.5 rounded-[7px] text-[#818181] filter-handle custom-select new-select-border sources", id:"user_course" }) %>
      <div class="text-red-600 text-sm mt-1" id="course-error"></div>
    </div>
  </div>
  <%= f.hidden_field :trainer_course_id, value: @trainer_course_id, id: "attendance_trainer_course_id" %>
  <% if trainer_attendance&.errors&.any? %>
    <% if trainer_attendance&.errors[:trainer_course_id].any? %>
      <div class="text-red-600 text-sm mt-1">
        <%= trainer_attendance&.errors.full_messages_for(:trainer_course_id).join(', ') %>
      </div>
    <% end %>
  <% end %>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="batch_id" class="w-full sm:w-[45%] block mb-2 text-lg font-medium text-[#000]">Batch Name<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
    <div class="w-full sm:w-[55%] flex flex-col">
      <%= f.collection_select(:batch_id, Batch.all, :id, :batch_name, { prompt: "Select Batch", selected: '' }, { class: "bg-[#FFFFFF] foucus:ring-0 text-[#818181] text-[16px] font-medium rounded-lg outline-none block w-full p-2.5 rounded-[7px] bg-[#fff] text-[#818181] filter-handle new-lesson-custom-select trainer_attendance_batch_select sources" })  %>
      <div class="text-red-600 text-sm mt-1" id="name-error"></div>
      <% if trainer_attendance&.errors&.any? %>
        <% if trainer_attendance&.errors[:user_id].any? %>
          <div class="text-red-600 text-sm mt-1">
            <%= trainer_attendance&.errors.full_messages_for(:user_id).join(', ') %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <%= turbo_frame_tag "course_input_render" do %>
  <% end %>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="timeslot" class="w-full sm:w-[45%] block mb-2 text-lg font-medium text-[#000]">Timeslot</label>
    <div class="w-full sm:w-[55%] flex flex-col relative">
      <div class="flex items-center space-x-2 gap-2">
        <div class="dropdown">
          <input type="text" id="start-time" class="w-full px-4 py-2 bg-white border border-[#cccccc] text-[#818181] rounded-lg focus:outline-none" readonly placeholder="Start time" />
          <div class="dropdown-menu" id="start-time-dropdown">
            <!-- JavaScript will populate this with all the options -->
          </div>
        </div>
        <span class="text-[#818181] text-center text-base mb-5">-</span>
        <div class="dropdown">
          <input type="text" id="end-time" class="w-full px-4 py-2 bg-white border border-[#cccccc] text-[#818181] rounded-lg focus:outline-none" readonly placeholder="End time"/>
          <div class="dropdown-menu" id="end-time-dropdown">
            <!-- JavaScript will populate this with all the options -->
          </div>
        </div>
      </div>
      <!-- New input field to display the concatenated result -->
      <div class="mt-4">
        <%= f.text_field :class_timing, id: "time-range", class: "w-full px-4 py-2 bg-white border border-[#cccccc] text-[#818181] rounded-lg focus:outline-none" %>
      </div>
      <svg class="absolute top-3" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" style="left: 7.5rem">
        <path d="M9.5 19C7.62108 19 5.78435 18.4428 4.22209 17.399C2.65982 16.3551 1.44218 14.8714 0.723149 13.1355C0.00411619 11.3996 -0.184015 9.48946 0.182544 7.64665C0.549104 5.80383 1.45389 4.11109 2.78249 2.78249C4.11109 1.45389 5.80383 0.549104 7.64665 0.182544C9.48946 -0.184015 11.3996 0.00411619 13.1355 0.723149C14.8714 1.44218 16.3551 2.65982 17.399 4.22209C18.4428 5.78435 19 7.62108 19 9.5C19 12.0196 17.9991 14.4359 16.2175 16.2175C14.4359 17.9991 12.0196 19 9.5 19ZM9.5 1.35715C7.8895 1.35715 6.31516 1.83472 4.97607 2.72947C3.63699 3.62421 2.5933 4.89595 1.97698 6.38387C1.36067 7.87178 1.19942 9.50903 1.51361 11.0886C1.8278 12.6682 2.60334 14.1191 3.74213 15.2579C4.88093 16.3967 6.33185 17.1722 7.91141 17.4864C9.49097 17.8006 11.1282 17.6393 12.6161 17.023C14.104 16.4067 15.3758 15.363 16.2705 14.0239C17.1653 12.6848 17.6429 11.1105 17.6429 9.5C17.6429 7.34038 16.785 5.26922 15.2579 3.74213C13.7308 2.21505 11.6596 1.35715 9.5 1.35715Z" fill="#818181"/>
        <path d="M12.6145 13.5721L8.82129 9.77891V3.39355H10.1784V9.2157L13.5713 12.6153L12.6145 13.5721Z" fill="#818181"/>
      </svg>
      <svg class="absolute right-3 top-3" width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.5 19C7.62108 19 5.78435 18.4428 4.22209 17.399C2.65982 16.3551 1.44218 14.8714 0.723149 13.1355C0.00411619 11.3996 -0.184015 9.48946 0.182544 7.64665C0.549104 5.80383 1.45389 4.11109 2.78249 2.78249C4.11109 1.45389 5.80383 0.549104 7.64665 0.182544C9.48946 -0.184015 11.3996 0.00411619 13.1355 0.723149C14.8714 1.44218 16.3551 2.65982 17.399 4.22209C18.4428 5.78435 19 7.62108 19 9.5C19 12.0196 17.9991 14.4359 16.2175 16.2175C14.4359 17.9991 12.0196 19 9.5 19ZM9.5 1.35715C7.8895 1.35715 6.31516 1.83472 4.97607 2.72947C3.63699 3.62421 2.5933 4.89595 1.97698 6.38387C1.36067 7.87178 1.19942 9.50903 1.51361 11.0886C1.8278 12.6682 2.60334 14.1191 3.74213 15.2579C4.88093 16.3967 6.33185 17.1722 7.91141 17.4864C9.49097 17.8006 11.1282 17.6393 12.6161 17.023C14.104 16.4067 15.3758 15.363 16.2705 14.0239C17.1653 12.6848 17.6429 11.1105 17.6429 9.5C17.6429 7.34038 16.785 5.26922 15.2579 3.74213C13.7308 2.21505 11.6596 1.35715 9.5 1.35715Z" fill="#818181"/>
        <path d="M12.6145 13.5721L8.82129 9.77891V3.39355H10.1784V9.2157L13.5713 12.6153L12.6145 13.5721Z" fill="#818181"/>
      </svg>
      <div class="text-red-600 text-sm mt-1" id="enquire_timeslot_error"></div>
      <% if trainer_attendance&.errors&.any? %>
        <% if trainer_attendance.errors[:class_timing].any? %>
          <div class="text-red-600 text-sm mt-1">
            <%= trainer_attendance.errors.full_messages_for(:class_timing).join(', ') %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="class_date" class="w-full sm:w-[45%] block mb-2 text-lg font-medium text-[#000] dark:text-white">Class Date<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
    <div class="w-full sm:w-[55%] flex flex-col relative">
      <%= f.text_field :class_date, class: 'datepicker-input border border-[#cccccc] text-[#818181] text-base font-medium rounded-lg pl-10 pr-4', id: 'datepicker', autocomplete: 'off' %>
      <svg id="datepicker-icon" class="absolute top-4 left-[19.5rem] w-6 h-6 cursor-pointer" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M6.2403 0C6.44452 0 6.64037 0.0811248 6.78477 0.225528C6.92918 0.369931 7.0103 0.565783 7.0103 0.77V2.2099H15.279V0.7799C15.279 0.575683 15.3601 0.379831 15.5045 0.235428C15.6489 0.0910248 15.8448 0.0099 16.049 0.0099C16.2532 0.0099 16.4491 0.0910248 16.5935 0.235428C16.7379 0.379831 16.819 0.575683 16.819 0.7799V2.2099H19.8C20.3833 2.2099 20.9427 2.44153 21.3552 2.85388C21.7678 3.26622 21.9997 3.82551 22 4.4088V19.8011C21.9997 20.3844 21.7678 20.9437 21.3552 21.356C20.9427 21.7684 20.3833 22 19.8 22H2.2C1.61671 22 1.0573 21.7684 0.644754 21.356C0.232205 20.9437 0.000291643 20.3844 0 19.8011L0 4.4088C0.000291643 3.82551 0.232205 3.26622 0.644754 2.85388C1.0573 2.44153 1.61671 2.2099 2.2 2.2099H5.4703V0.7689C5.47059 0.564874 5.55185 0.369304 5.69622 0.225139C5.84059 0.0809736 6.03627 -2.0819e-07 6.2403 0ZM1.54 8.5162V19.8011C1.54 19.8878 1.55707 19.9736 1.59024 20.0537C1.62341 20.1337 1.67202 20.2065 1.73331 20.2678C1.7946 20.3291 1.86735 20.3777 1.94743 20.4109C2.0275 20.444 2.11333 20.4611 2.2 20.4611H19.8C19.8867 20.4611 19.9725 20.444 20.0526 20.4109C20.1326 20.3777 20.2054 20.3291 20.2667 20.2678C20.328 20.2065 20.3766 20.1337 20.4098 20.0537C20.4429 19.9736 20.46 19.8878 20.46 19.8011V8.5316L1.54 8.5162ZM7.3337 16.0809V17.9135H5.5V16.0809H7.3337ZM11.9163 16.0809V17.9135H10.0837V16.0809H11.9163ZM16.5 16.0809V17.9135H14.6663V16.0809H16.5ZM7.3337 11.7062V13.5388H5.5V11.7062H7.3337ZM11.9163 11.7062V13.5388H10.0837V11.7062H11.9163ZM16.5 11.7062V13.5388H14.6663V11.7062H16.5ZM5.4703 3.7488H2.2C2.11333 3.7488 2.0275 3.76587 1.94743 3.79904C1.86735 3.83221 1.7946 3.88082 1.73331 3.94211C1.67202 4.0034 1.62341 4.07615 1.59024 4.15623C1.55707 4.2363 1.54 4.32213 1.54 4.4088V6.9773L20.46 6.9927V4.4088C20.46 4.32213 20.4429 4.2363 20.4098 4.15623C20.3766 4.07615 20.328 4.0034 20.2667 3.94211C20.2054 3.88082 20.1326 3.83221 20.0526 3.79904C19.9725 3.76587 19.8867 3.7488 19.8 3.7488H16.819V4.7707C16.819 4.97492 16.7379 5.17077 16.5935 5.31517C16.4491 5.45958 16.2532 5.5407 16.049 5.5407C15.8448 5.5407 15.6489 5.45958 15.5045 5.31517C15.3601 5.17077 15.279 4.97492 15.279 4.7707V3.7488H7.0103V4.7608C7.0103 4.96502 6.92918 5.16087 6.78477 5.30527C6.64037 5.44968 6.44452 5.5308 6.2403 5.5308C6.03608 5.5308 5.84023 5.44968 5.69583 5.30527C5.55142 5.16087 5.4703 4.96502 5.4703 4.7608V3.7488Z" fill="#0BC08B"/>
      </svg>
      <div class="text-red-600 text-sm mt-1" id="date-error"></div>
      <% if trainer_attendance&.errors&.any? %>
        <% if trainer_attendance&.errors[:class_date].any? %>
          <div class="text-red-600 text-sm mt-1">
            <%= trainer_attendance&.errors.full_messages_for(:class_date).join(', ') %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
  <div class="mb-4 flex flex-col sm:flex-row">
    <label for="status" class="block mb-2 text-lg font-medium text-[#000] dark:text-white w-full sm:w-[45%]">Attendance<span class="text-[#C6C6C6] text-[15px] font-medium">(Required)</span></label>
    <div class="w-full sm:w-[55%] flex flex-col">
      <div>
        <div id="present" class="attendace_present relative rounded-[18px] h-[35px] w-[110px] items-center bg-[#0BC08B] bg-opacity-20 flex flex-row-reverse" value="true">
          <input type="hidden" id="present_status" name="status" value="true">
          <div id="slider" class="mx-[2px] h-[30px] w-[30px] bg-white rounded-[50%] relative flex justify-center items-center right-0 slider-duration">
            <div id="sliderContent">
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none"><path d="M15.25 4.6875L7.34375 12.5938L3.75 9" stroke="#0BC08B" stroke-width="1.6666" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>
          <div class="self-center mx-auto flex justify-center">
            <span id="attendanceText" class="text-[#0BC08B] text-base font-medium">
              Present
            </span>
          </div>
        </div>
      </div>
      <div>
        <div id="absent" class="attendance_absent relative rounded-[18px] h-[35px] w-[110px] items-center bg-[#F9DCDC] flex" value="false" style="display:none;">
          <input type="hidden" id="absent_status" name="status" value="false">
          <div id="slider" class="mx-[2px] h-[30px] w-[30px] bg-white rounded-[50%] relative flex justify-center items-center left-0 slider-duration">
            <div id="sliderContent">
              <svg xmlns="http://www.w3.org/2000/svg" width="19" height="18" viewBox="0 0 19 18" fill="none"><path d="M13.8125 4.6875L5.1875 13.3125M5.1875 4.6875L13.8125 13.3125" stroke="#DF4F4F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
            </div>
          </div>
          <div class="self-center mx-auto flex justify-center">
            <span id="attendanceText" class="text-[#DF4F4F] text-base font-medium">
              Absent
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%= f.hidden_field :status, id: "attendance_status"%>
  <%= hidden_field_tag :page, params[:page]%>
  <%= hidden_field_tag :per_page, params[:per_page]%>
  <%= hidden_field_tag :search, params[:search]%>
  <div class="w-1/5 mx-auto mt-4 sm:mt-6">
    <%= f.submit "CREATE", class: 'button-gradiant-hover w-[150px] h-[42px] text-white bg-gradient-to-r from-[#1AB69D] to-[#31B978] font-semibold rounded-lg text-[16px] px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 loader-btn' %>
  </div>
<% end %>